# contributing

Thanks for considering to contribute!

GitHub's API for Discussions is currently only available through the GraphQL
API, which currently requires authentication for all requests. With the way
giscus works, you'll need to create a GitHub App in order to get it
running on your machine. Follow the [self-hosting guide][self-hosting] to get
it running.

## setup

This project is built with [Next.js][next.js]. To get started:

1. `yarn`: install dependencies
2. `yarn dev`: compile and hot-reload for development
3. `yarn build`: compile and minify for production
4. `yarn lint`: lint and fix files
5. `yarn start`: serve the compiled build in production mode

## creating new themes

If you want to submit your custom theme to giscus, create a new file in
[`styles/themes`][themes-dir]. The file name (without `.css`) will be the
theme's key. You can use the other theme files as reference (see
[`custom_example.css`][example]). Once you've added the theme file, add the key
and name to `Theme` in [`lib/variables.ts`][variables] to register it.

You can `@import` [`github-syntax-dark`][syntax-dark] or
[`github-syntax-light`][syntax-light] for the syntax themes. If you want to
customize the syntax themes, you can replace the `@import` with the actual CSS
instead. The classes with the `pl-` prefix are for the syntax theme. See the
[compiled example][example-compiled] for more details.

Several [classes prefixed with `gsc-`][gsc-classes] are used in the HTML
generated by giscus. You can take advantage of this to further customize your
theme. Note that the classes and HTML structure are subject to change, as
updates to giscus may require modifications to the HTML. You'll need to make
sure that your theme is up-to-date.

If you want to use a custom theme without submitting it to giscus, you can do
so by using a [custom theme URL][custom-theme-url]. Note that you cannot
`@import` a syntax theme and must inline it in your CSS. That said, if you
create a nice theme, I'd appreciate it if you create a PR instead so others can
use it easily.

[self-hosting]: SELF-HOSTING.md
[next.js]: https://github.com/vercel/next.js
[themes-dir]: styles/themes
[example]: styles/themes/custom_example.css
[syntax-dark]: https://github.com/primer/github-syntax-dark
[syntax-light]: https://github.com/primer/github-syntax-light
[example-compiled]: https://giscus.app/themes/custom_example.css
[gsc-classes]: https://github.com/laymonage/giscus/search?l=TSX&q=gsc
[custom-theme-url]: https://github.com/laymonage/giscus/blob/main/ADVANCED-USAGE.md#data-theme
[variables]: lib/variables.ts
